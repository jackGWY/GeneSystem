<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>register page</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/default.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/account.css') }}"/>
    <!--[if IE]>
	<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
<![endif]-->
    <link rel="stylesheet" href="{{ url_for('static',filename='layui/css/layui.css') }}">
     <script src="{{url_for('static',filename='jquery-2.1.3.js')}}"></script>
    <script src="{{ url_for('static',filename='layui/layui.all.js') }}"></script>
</head>
<body>

<div class="login">
    <div class="photo">
    </div>
    <span>用户注册</span>
    <form action="" id="login-form" class="layui-form">
        <div id="u" class="form-group">
            <input id="username" spellcheck=false class="form-control" name="username" type="text" size="18" alt="login"
                   required="" value="" lay-verify="required">
            <span class="form-highlight"></span>
            <span class="form-bar"></span>
            <label for="username" class="float-label">用户名</label>
        </div>
        <div id="p" class="form-group">
            <input id="password" class="form-control" spellcheck=false name="password" type="password" size="18"
                   alt="login" required="" value="" lay-verify="required">
            <span class="form-highlight"></span>
            <span class="form-bar"></span>
            <label for="password" class="float-label">密码</label>
        </div>

        <div id="p" class="form-group">
            <input id="password" class="form-control" spellcheck=false name="confPassword" type="password" size="18"
                   alt="login" required="" value="" lay-verify="required">
            <span class="form-highlight"></span>
            <span class="form-bar"></span>
            <label for="password" class="float-label">确认密码</label>
        </div>
        <div class="form-group">
            <!--<input type="checkbox" id="rem">
            <label for="rem">记住密码</label>-->
            <button id="btn_login"  style="width:100px;height:50px;background-color: #00F7DE;border:none;text-align: center;margin-left:20px;cursor: pointer;float:none;">登录</button>

             <button id="btn_register" lay-submit lay-filter="btn_register"  style="width:100px;height:50px;background-color: #00F7DE;border:none;text-align: center;margin-left:100px;cursor: pointer;">注册</button>
        </div>
    </form>
</div>
</body>

<script>

</script>
<script>

   var layer = layui.layer
    ,form = layui.form;

    //监听提交
    form.on('submit(btn_register)', function (data) {
        var data = data.field;
        $.post("/login/register_submit",data,function(result){
            if(result=="1"){
                layer.alert("注册成功");
                location.href="/login";
            }else if (result=="2"){
                layer.alert("密码不一致")
            }else{
                layer.alert("注册失败")
            }
        });

        return false;
    })

     $(function(){
        $("#btn_login").click(function(){
            location.href="/login";
        })
    })

</script>
</html>